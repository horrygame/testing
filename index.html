<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ó–∞–≥—Ä—É–∑–∫–∞ - –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –†–æ–±–æ—Ç–∞</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: linear-gradient(135deg, #3e2723, #5d4037);
            color: #f5e8c8;
            font-family: 'Times New Roman', serif;
            overflow: hidden;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        #loading-container {
            position: relative;
            width: 100vw;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        .loading-content {
            text-align: center;
            z-index: 10;
        }
        
        h1 {
            font-size: 48px;
            color: #ffd54f;
            margin-bottom: 40px;
            text-shadow: 3px 3px 5px rgba(0, 0, 0, 0.7);
            opacity: 0;
            animation: fadeIn 1s ease-in-out 0.5s forwards;
        }
        
        .loading-box {
            width: 400px;
            height: 60px;
            background: rgba(93, 64, 55, 0.9);
            border: 3px solid #8d6e63;
            border-radius: 10px;
            position: relative;
            margin: 20px 0;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.5);
            opacity: 0;
            animation: fadeIn 1s ease-in-out 1s forwards;
        }
        
        .input-field {
            width: 100%;
            height: 100%;
            background: transparent;
            border: none;
            outline: none;
            color: #f5e8c8;
            font-size: 18px;
            padding: 0 20px;
            font-family: 'Times New Roman', serif;
        }
        
        .input-field::placeholder {
            color: #bcaaa4;
        }
        
        .cursor {
            position: absolute;
            width: 20px;
            height: 30px;
            background: url('kursor.png') no-repeat center center;
            background-size: contain;
            z-index: 20;
            opacity: 0;
            pointer-events: none;
        }
        
        .progress-container {
            width: 400px;
            height: 20px;
            background: rgba(93, 64, 55, 0.8);
            border: 2px solid #8d6e63;
            border-radius: 10px;
            margin-top: 30px;
            overflow: hidden;
            opacity: 0;
            animation: fadeIn 1s ease-in-out 6s forwards;
        }
        
        .progress-bar {
            width: 0%;
            height: 100%;
            background: linear-gradient(90deg, #ffd54f, #ffb300);
            border-radius: 8px;
            transition: width 0.3s ease;
            position: relative;
        }
        
        .progress-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #5d4037;
            font-weight: bold;
            font-size: 14px;
            text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.5);
        }
        
        .loading-message {
            margin-top: 20px;
            font-size: 18px;
            color: #d7ccc8;
            opacity: 0;
            animation: fadeIn 1s ease-in-out 6.5s forwards;
        }
        
        .medieval-decoration {
            position: absolute;
            width: 100%;
            height: 100%;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" opacity="0.1"><rect fill="%235d4037" width="100" height="100"/><path d="M0,0 L100,100 M100,0 L0,100" stroke="%233e2723" stroke-width="2"/></svg>');
            z-index: -1;
        }
        
        .floating-elements {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }
        
        .floating-element {
            position: absolute;
            font-size: 24px;
            opacity: 0.3;
            animation: float 6s ease-in-out infinite;
        }
        
        .floating-element:nth-child(1) { top: 20%; left: 10%; animation-delay: 0s; }
        .floating-element:nth-child(2) { top: 60%; left: 80%; animation-delay: 1s; }
        .floating-element:nth-child(3) { top: 80%; left: 20%; animation-delay: 2s; }
        .floating-element:nth-child(4) { top: 30%; left: 70%; animation-delay: 3s; }
        .floating-element:nth-child(5) { top: 70%; left: 30%; animation-delay: 4s; }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }
        
        @keyframes click {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(0.8); }
        }
        
        @keyframes typewriter {
            from { width: 0; }
            to { width: 100%; }
        }
        
        .typewriter-text {
            overflow: hidden;
            border-right: 2px solid #ffd54f;
            white-space: nowrap;
            animation: typewriter 2s steps(20) 3s forwards;
        }
        
        .completed-text {
            color: #4caf50;
            font-weight: bold;
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }
    </style>
</head>
<body>
    <div id="loading-container">
        <!-- –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã -->
        <div class="medieval-decoration"></div>
        
        <div class="floating-elements">
            <div class="floating-element">‚öîÔ∏è</div>
            <div class="floating-element">üè∞</div>
            <div class="floating-element">ü§ñ</div>
            <div class="floating-element">‚öôÔ∏è</div>
            <div class="floating-element">üîß</div>
        </div>
        
        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <div class="loading-content">
            <h1>ü§ñ –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –†–æ–±–æ—Ç–∞</h1>
            
            <div class="loading-box" id="input-container">
                <input type="text" class="input-field" id="command-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –∑–∞–≥—Ä—É–∑–∫–∏..." readonly>
                <div class="cursor" id="cursor"></div>
            </div>
            
            <div class="progress-container" id="progress-container">
                <div class="progress-bar" id="progress-bar">
                    <div class="progress-text" id="progress-text">0%</div>
                </div>
            </div>
            
            <div class="loading-message" id="loading-message">
                –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—é –≤ –º–∏—Ä –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è...
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const cursor = document.getElementById('cursor');
            const inputField = document.getElementById('command-input');
            const progressBar = document.getElementById('progress-bar');
            const progressText = document.getElementById('progress-text');
            const progressContainer = document.getElementById('progress-container');
            const loadingMessage = document.getElementById('loading-message');
            
            // –ù–∞—á–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫—É—Ä—Å–æ—Ä–∞ (–≤–Ω–µ —ç–∫—Ä–∞–Ω–∞)
            let cursorX = -100;
            let cursorY = window.innerHeight / 2;
            
            // –§–∏–Ω–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (—Ü–µ–Ω—Ç—Ä –ø–æ–ª—è –≤–≤–æ–¥–∞)
            const inputRect = inputField.getBoundingClientRect();
            const targetX = inputRect.left + inputRect.width / 2 - 10;
            const targetY = inputRect.top + inputRect.height / 2 - 15;
            
            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è –∫—É—Ä—Å–æ—Ä–∞
            function moveCursorTo(x, y, duration, callback) {
                cursor.style.opacity = '1';
                
                const startX = cursorX;
                const startY = cursorY;
                const startTime = performance.now();
                
                function animate(currentTime) {
                    const elapsed = currentTime - startTime;
                    const progress = Math.min(elapsed / duration, 1);
                    
                    // –≠asing —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç–∏
                    const easeProgress = 1 - Math.pow(1 - progress, 3);
                    
                    cursorX = startX + (x - startX) * easeProgress;
                    cursorY = startY + (y - startY) * easeProgress;
                    
                    cursor.style.left = cursorX + 'px';
                    cursor.style.top = cursorY + 'px';
                    
                    if (progress < 1) {
                        requestAnimationFrame(animate);
                    } else {
                        if (callback) callback();
                    }
                }
                
                requestAnimationFrame(animate);
            }
            
            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ –∫–ª–∏–∫–∞
            function animateClick(callback) {
                cursor.style.animation = 'click 0.3s ease-in-out';
                setTimeout(() => {
                    cursor.style.animation = '';
                    if (callback) callback();
                }, 300);
            }
            
            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–∞
            function typeText(text, speed, callback) {
                let i = 0;
                inputField.placeholder = '';
                
                function type() {
                    if (i < text.length) {
                        inputField.placeholder += text.charAt(i);
                        i++;
                        setTimeout(type, speed);
                    } else {
                        if (callback) callback();
                    }
                }
                
                type();
            }
            
            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
            function updateProgress(percent, message) {
                progressBar.style.width = percent + '%';
                progressText.textContent = percent + '%';
                
                if (message) {
                    loadingMessage.textContent = message;
                }
                
                if (percent === 100) {
                    progressBar.classList.add('pulse');
                    loadingMessage.innerHTML = '<span class="completed-text">‚úì –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞! –ù–∞—á–∏–Ω–∞–µ–º –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ...</span>';
                }
            }
            
            // –û—Å–Ω–æ–≤–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–π
            function startLoadingAnimation() {
                // 1. –î–≤–∏–∂–µ–Ω–∏–µ –∫—É—Ä—Å–æ—Ä–∞ –∫ –ø–æ–ª—é –≤–≤–æ–¥–∞
                setTimeout(() => {
                    moveCursorTo(targetX, targetY, 2000, () => {
                        // 2. –ê–Ω–∏–º–∞—Ü–∏—è –∫–ª–∏–∫–∞
                        setTimeout(() => {
                            animateClick(() => {
                                // 3. –í–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞
                                setTimeout(() => {
                                    typeText('–∑–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∞ 100%', 100, () => {
                                        // 4. –ù–∞—á–∞–ª–æ –∑–∞–≥—Ä—É–∑–∫–∏
                                        setTimeout(() => {
                                            startProgressAnimation();
                                        }, 1000);
                                    });
                                }, 500);
                            });
                        }, 500);
                    });
                }, 1000);
            }
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞
            function startProgressAnimation() {
                let progress = 0;
                const messages = [
                    "–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —è–¥—Ä–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è...",
                    "–ó–∞–≥—Ä—É–∑–∫–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –¥–≤–∏–∂–µ–Ω–∏—è...",
                    "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ–µ–≤—ã—Ö —Å–∏—Å—Ç–µ–º...",
                    "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —É—Ä–æ–≤–Ω–µ–π –∏—Å–ø—ã—Ç–∞–Ω–∏–π...",
                    "–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–¥–æ–≤—ã—Ö –∑–∞–º–∫–æ–≤...",
                    "–ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!"
                ];
                
                const interval = setInterval(() => {
                    progress += 1;
                    updateProgress(progress);
                    
                    // –°–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
                    if (progress === 10) loadingMessage.textContent = messages[0];
                    if (progress === 25) loadingMessage.textContent = messages[1];
                    if (progress === 45) loadingMessage.textContent = messages[2];
                    if (progress === 65) loadingMessage.textContent = messages[3];
                    if (progress === 85) loadingMessage.textContent = messages[4];
                    if (progress === 100) {
                        loadingMessage.textContent = messages[5];
                        clearInterval(interval);
                        
                        // –ü–µ—Ä–µ—Ö–æ–¥ –∫ –æ—Å–Ω–æ–≤–Ω–æ–π –∏–≥—Ä–µ —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
                        setTimeout(() => {
                            transitionToMainGame();
                        }, 2000);
                    }
                }, 100); // 10 —Å–µ–∫—É–Ω–¥ –¥–æ 100%
            }
            
            // –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ –æ—Å–Ω–æ–≤–Ω–æ–π –∏–≥—Ä–µ
            function transitionToMainGame() {
                document.body.style.animation = 'fadeOut 1s ease-in-out forwards';
                setTimeout(() => {
                    alert("–ü–µ—Ä–µ—Ö–æ–¥ –∫ –æ—Å–Ω–æ–≤–Ω–æ–π –∏–≥—Ä–µ! (–ó–¥–µ—Å—å –±—É–¥–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –≤–∞—à–µ–º—É –æ—Å–Ω–æ–≤–Ω–æ–º—É –∫–æ–¥—É)");
                    // window.location.href = "main-game.html"; // –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞
                }, 1000);
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º CSS –¥–ª—è fadeOut –∞–Ω–∏–º–∞—Ü–∏–∏
            const style = document.createElement('style');
            style.textContent = `
                @keyframes fadeOut {
                    from { opacity: 1; }
                    to { opacity: 0; }
                }
            `;
            document.head.appendChild(style);
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            setTimeout(startLoadingAnimation, 500);
            
            // –†–µ–∑–µ—Ä–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –µ—Å–ª–∏ –∫—É—Ä—Å–æ—Ä –Ω–µ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è
            setTimeout(() => {
                if (cursor.style.opacity === '0') {
                    cursor.style.backgroundColor = '#ffd54f';
                    cursor.style.borderRadius = '50%';
                    cursor.style.boxShadow = '0 0 10px #ffd54f';
                }
            }, 3000);
        });
    </script>
</body>
</html>
